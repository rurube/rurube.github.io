---
title: [살.머.파]2.TFX - 텐서플로 익스텐디드
tags: 
  - [tfx]
category:
  - TFX
date: 2023-08-26
---

- TFX 라이브러리

  - 머신러닝 파이프라인에 필요한 모든 구성 요소 제공
  - TFX를 사용하여 파이프라인 작업 정의 -> 파이프라인 오케스트레이터로 실행

  ![Img](https://github.com/rurube/rurube.github.io/assets/81694385/6ad22070-45bb-4d8f-af7f-db26388aa0b3)



## 1. TFX 소개

- 머신러닝 파이프라인이 복잡해지면서 업무 간 연결(글루 코드)가 취약해지기 쉬우며 파이프라인의 고장을 일으킴

- 연결이 취약하다 == 프로덕션 모델이 자주 업데이트되지 않는다

- TFX의 파이프라인 컴포넌트(TFX 1.2.0 기준)

  - `ExampleGen`: 데이터 수집
  - `StatisticsGen`, `SchemaGen`, `ExampleValidator`: 데이터 검증
  - `Transform`: 데이터 전처리
  - `Trainer`: 모델 학습 실시
  - `ResolverNode`: 이전에 학습한 모델 확인
  - `Evaluator`: 모델 분석 및 검증
  - `Pusher`: 모델 배포

  ![img](https://github.com/rurube/rurube.github.io/assets/81694385/aae14dee-1248-42dd-823d-6dc890c28398)

  



## 2. TFX 설치

```python
# install TFX
pip install tfx==1.2.0
```



## 3. TFX 컴포넌트 개요

- 모든 머신러닝 파이프라인 컴포넌트는 메타데이터스토어에서 입력 아티팩트를 가져옴 -> 메타데이터스토어에서 제공한 경로에서 데이터 로드, 처리

- 컴포넌트 내부에서 처리되는 작업

  - 입력 수신
  - 작업 수행
  - 최종 결과 저장

- 컴포넌트 내부의 세 부분(TFX)

  - 드라이버: 메타데이터스토어에서 입력 데이터를 가져옴

  - 실행자: 컴포넌트 작업 수행

  - 배포자: 최종 결과 메타데이터를 메타데이터스토어에 저장

    ![img](https://github.com/rurube/rurube.github.io/assets/81694385/840458f5-e1e0-4742-a6f7-11d9aed18d91)

  - 아티팩트
    - 컴포넌트의 입출력
    - 원시 입력 데이터, 전처리된 데이터, 학습된 모델 등



## 4. ML 메타데이터

- TFX 컴포넌트는 메타데이터로 의사소통을 함
- 파이프라인의 컴포넌트는 직접 아티팩트를 주고받는 대신 파이프라인에서 만들어지는 아티팩트에 대한 참조를 주고받는다
  - 원시 데이터셋, 변환 그래프, 학습된 모델 등